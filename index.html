<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find your path to #Fitter #Stronger #Better | COACH CHRIS</title>
    
    <!-- --- SOCIAL SHARING METADATA --- -->
    <meta property="og:title" content="Find your path to #Fitter #Stronger #Better">
    <meta property="og:description" content="Take our short quiz to determine which service is best suited to help you achieve your goals">
    <meta property="og:image" content="https://placehold.co/1200x630/22c55e/000?text=COACH+CHRIS+Fitness+Assessment">
    <meta property="og:url" content="YOUR_APP_URL_HERE">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Find your path to #Fitter #Stronger #Better">
    <meta name="twitter:description" content="Take our short quiz to determine which service is best suited to help you achieve your goals">
    <meta name="twitter:image" content="https://placehold.co/1200x630/22c55e/000?text=COACH+CHRIS+Fitness+Assessment">

    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');

        /* --- BACKGROUND GRADIENT & MESH --- */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated Mesh Gradients */
        .mesh-gradient {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(circle at 0% 0%, rgba(34, 197, 94, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, rgba(34, 197, 94, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(20, 20, 20, 1) 0%, rgba(0, 0, 0, 1) 100%);
        }

        /* --- LOADING SCREEN CSS --- */
        #initial-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease-out;
        }

        .loader-content {
            text-align: center;
            animation: pulse-slow 2s infinite ease-in-out;
        }

        @keyframes pulse-slow {
            0%, 100% { opacity: 0.8; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.02); }
        }

        .cycling-text {
            font-family: monospace;
            color: #22c55e;
            font-size: 0.75rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            margin-top: 1rem;
            min-height: 1.2em;
        }

        /* --- GLASSMORPHISM COMPONENTS --- */
        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8);
        }

        .quiz-container {
            max-width: 700px;
            min-height: 550px;
            transition: all 0.3s ease-in-out;
        }

        .option-button {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .option-button:hover:not(.selected) {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(34, 197, 94, 0.5);
            transform: translateY(-2px);
        }

        .selected {
            background: rgba(34, 197, 94, 0.2) !important;
            border-color: #22c55e !important;
            color: #fff !important;
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
        }

        .action-button {
            background: #22c55e;
            color: #000;
            font-weight: 800;
            text-transform: uppercase;
            transition: all 0.2s;
            box-shadow: 0 4px 14px 0 rgba(34, 197, 94, 0.39);
        }
        
        .action-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(34, 197, 94, 0.45);
            filter: brightness(1.1);
        }
        
        .action-button:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.3);
            box-shadow: none;
            cursor: not-allowed;
        }
        
        .secondary-button {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #fff;
            transition: all 0.2s;
        }
        .secondary-button:hover {
            background: rgba(255, 255, 255, 0.12);
        }

        .progress-container {
            background: rgba(255, 255, 255, 0.05);
            height: 8px;
        }
        .progress-bar-fill {
            background: linear-gradient(90deg, #166534, #22c55e);
            box-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .animate-in {
            animation: slideUpFade 0.5s ease-out;
        }

        @keyframes slideUpFade {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .custom-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #fff;
            transition: all 0.2s;
        }
        .custom-input:focus {
            outline: none;
            border-color: #22c55e;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.1);
        }
        
        input[type="checkbox"] {
            -webkit-appearance: none;
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
            cursor: pointer;
            position: relative;
        }
        input[type="checkbox"]:checked {
            background: #22c55e;
            border-color: #22c55e;
        }
        input[type="checkbox"]:checked::after {
            content: '✓';
            position: absolute;
            color: #000;
            font-size: 0.8rem;
            font-weight: bold;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .clean-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(34, 197, 94, 0.1); 
            border-top: 3px solid #22c55e; 
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* --- RESULT PAGE SPECIFICS --- */
        .result-card {
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4 sm:p-6">
    
    <div class="mesh-gradient"></div>

    <!-- SPLASH SCREEN LOADER -->
    <div id="initial-loader">
        <div class="loader-content flex flex-col items-center">
            <h1 class="text-4xl font-black text-white uppercase tracking-tighter italic" style="font-family: sans-serif;">
                COACHING QUIZ
            </h1>
            <div id="loader-pulse-text" class="text-green-500 font-bold text-xl uppercase tracking-widest mt-2" style="font-family: sans-serif;">
                Loading...
            </div>
            <div id="loader-sub-text" class="cycling-text">
                Initializing assessment...
            </div>
        </div>
    </div>

    <!-- Main Quiz Container -->
    <div id="quiz-app" class="quiz-container glass-panel w-full rounded-3xl p-6 md:p-10 relative overflow-hidden">
        
        <!-- Decoration: Green accent line top -->
        <div class="absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-green-800 via-green-400 to-green-800"></div>

        <!-- BRANDING BLOCK -->
        <div class="mb-8 leading-tight animate-in">
            <h1 class="text-4xl sm:text-5xl font-black text-white uppercase tracking-tighter">
                COACH CHRIS
            </h1>
            <div class="flex flex-wrap gap-x-4 gap-y-1 mt-1">
                <p class="text-xs font-bold uppercase tracking-widest text-green-500">
                    CIRCULAR ROOTS COACHING
                </p>
                <p class="text-xs font-bold uppercase tracking-widest text-neutral-400">
                    TRAIN UNCNVNTNL
                </p>
            </div>
        </div>

        <!-- Main Quiz Title -->
        <h2 class="text-2xl sm:text-3xl font-black text-white mb-6 uppercase italic tracking-tight leading-tight">
            FIND YOUR PATH TO BECOMING 
            <span class="text-green-500">#FITTER</span> 
            <span class="text-green-500">#STRONGER</span> 
            <span class="text-green-500">#BETTER</span>
        </h2>
        
        <!-- Progress Bar -->
        <div class="mb-10">
            <div class="flex items-center justify-between mb-2">
                <p id="progress-text-label" class="text-[10px] font-bold uppercase tracking-[0.2em] text-neutral-400">
                    QUESTION 1 OF 10
                </p>
                <p id="progress-percent" class="text-[10px] font-bold text-green-500">
                    0%
                </p>
            </div>
            <div class="progress-container w-full rounded-full overflow-hidden">
                <div id="progress-bar-fill" class="progress-bar-fill h-full" style="width: 0%;"></div>
            </div>
        </div>

        <!-- Dynamic Content Area -->
        <div id="content-area">
            <div class="text-center font-bold animate-pulse text-neutral-500">LOADING...</div>
        </div>

    </div>
    
    <!-- Footer Block -->
    <div class="mt-12 w-full max-w-2xl text-center px-4">
        <p id="disclaimer" class="text-neutral-500 text-[11px] mb-6 leading-relaxed uppercase tracking-wider">
            General Fitness Disclaimer: Always consult your medical professional or doctor before beginning any new fitness regime. This site provides general information for educational purposes only. You engage in physical activity at your own risk.
        </p>
        <p class="text-neutral-300 font-bold text-[10px] uppercase tracking-[0.3em] leading-snug">
            © 2025 COACH CHRIS | CIRCULAR ROOTS COACHING | TRAIN UNCNVNTNL
        </p>
        <p class="text-green-500/50 text-xs italic font-medium mt-4 tracking-widest">
            Fitter. Stronger. Better.
        </p>
    </div>


    <script>
        // Loading Screen Animation Logic
        window.addEventListener('load', () => {
            const loader = document.getElementById('initial-loader');
            const subText = document.getElementById('loader-sub-text');
            
            const cycleMessages = [
                "Loading quiz questions...",
                "Configuring assessment logic...",
                "Ready."
            ];
            
            let i = 0;
            const cycleInterval = setInterval(() => {
                if (i < cycleMessages.length) {
                    subText.textContent = cycleMessages[i];
                    i++;
                } else {
                    clearInterval(cycleInterval);
                }
            }, 500);

            setTimeout(() => {
                loader.style.opacity = '0';
                setTimeout(() => {
                    loader.style.display = 'none';
                }, 500);
            }, 1800);
        });

        function markdownToHtml(text) {
            if (!text) return "";
            let result = text.replace(/\*\*(.*?)\*\*/g, '<strong class="text-white">$1</strong>');
            result = result.replace(/\*(.*?)\*/g, '<em class="text-green-400">$1</em>');
            return result;
        }

        const quizData = [
            { id: 1, question: "What is your #1 primary fitness goal right now?", key: "primaryGoal", options: [{ text: "Shedding fat and transforming my physique", score: 30 }, { text: "Getting strong and building solid muscle", score: 20 }, { text: "Boosting energy and improving my fitness/stamina", score: 10 }, { text: "Feeling generally healthier and more consistent", score: 5 }] },
            { id: 2, question: "How many days per week can you realistically commit?", key: "commitment", options: [{ text: "I'm ready for 5+ sessions per week (high commitment)", score: 30 }, { text: "I can commit 3-4 days a week easily", score: 20 }, { text: "1-2 days a week is realistic for me right now", score: 10 }, { text: "I need help finding consistency/just starting", score: 5 }] },
            { id: 3, question: "What is your biggest barrier to success?", key: "barrier", options: [{ text: "I don't have a plan that fits my goals", score: 5 }, { text: "I struggle with follow-through and need accountability", score: 20 }, { text: "My diet is my biggest weakness (need a strategy)", score: 30 }, { text: "Staying motivated and finding the time to train", score: 10 }] },
            { id: 4, question: "What level of support do you need?", key: "support", options: [{ text: "I need a great plan and I'll handle the rest", score: 5 }, { text: "I need weekly guidance and access to a coach", score: 20 }, { text: "Maximum accountability, check-ins, and a custom plan", score: 30 }, { text: "I learn best in a supportive group environment", score: 10 }] },
            { id: 5, question: "Do you have any injuries or medical considerations?", key: "medical", options: [{ text: "Yes, I have current injuries requiring specialized training", score: 30 }, { text: "I have minor aches but nothing that stops me from training", score: 20 }, { text: "No, I am generally fit and injury-free", score: 10 }, { text: "I'm not sure about my physical limitations yet", score: 5 }] },
            { id: 6, question: "What is your budget for coaching?", key: "budget", options: [{ text: "£150+ per month", score: 30 }, { text: "Up to £100 per month", score: 20 }, { text: "Up to £50 per month", score: 10 }, { text: "My budget is flexible", score: 25 }] },
            { id: 7, question: "Where do you primarily workout?", key: "location", options: [{ text: "A fully equipped gym/fitness center", score: 30 }, { text: "At home with minimal equipment", score: 10 }, { text: "Outdoors or using functional bodyweight training", score: 20 }, { text: "It varies (I travel or shift locations often)", score: 5 }] },
            { id: 8, question: "How would you describe your nutritional discipline?", key: "nutrition", options: [{ text: "I track macros/calories and just need refinement", score: 30 }, { text: "I eat generally healthy but need more structure", score: 20 }, { text: "My eating is inconsistent; I need a full overhaul", score: 10 }, { text: "I haven't focused on nutrition yet", score: 5 }] },
            { id: 9, question: "How crucial is guidance on daily habits and stress management?", key: "lifestyle", options: [{ text: "Essential (sleep and stress management are priorities)", score: 30 }, { text: "Important (I want it included in check-ins)", score: 20 }, { text: "Not crucial (I only need the workout programming)", score: 10 }, { text: "I am already highly disciplined in these areas", score: 5 }] },
            { id: 10, question: "What is your long-term health objective?", key: "longTerm", options: [{ text: "Maximize longevity and long-term vitality", score: 25 }, { text: "Improve aesthetics and physical appearance", score: 20 }, { text: "Perform at an elite level (sports/professional need)", score: 30 }, { text: "Maintain my current health and fitness level", score: 5 }] }
        ];

        let currentStep = 0;
        let totalScore = 0;
        let selectedOption = null;
        let userAnswers = []; 
        let clientName = "Warrior"; 

        const TIER_1_TITLE = "1-1 ONLINE COACHING";
        const TIER_2_TITLE = "FITTER STRONGER BETTER SUBSCRIPTION";
        const TIER_3_TITLE = "ONLINE PROGRAM LIBRARY";
        
        function getProgramDetailsByTitle(title) {
            if (title.includes(TIER_1_TITLE)) {
                return {
                    title: TIER_1_TITLE,
                    description: "Your goals require maximum accountability and highly specific programming. This is the premium, fully tailored solution designed to adapt to your lifestyle and ensure rapid, consistent progress.",
                    briefOverview: "Exclusive 1-on-1 coaching offering fully customized training and nutrition programming built specifically for you. Includes weekly in-depth check-ins, unlimited direct messaging with Coach Chris, and dynamic program adjustments.", 
                    accentColor: "text-green-400",
                    ctaLink: "https://coachchriscrc.github.io/oc-lp",
                    requiresCall: true
                };
            } else if (title.includes(TIER_2_TITLE)) {
                return {
                    title: TIER_2_TITLE,
                    description: "You have clear goals and a moderate level of commitment. This service provides structured programming, personalized check-ins, and a perfect blend of accountability and flexibility.",
                    briefOverview: "Access our Flagship Hybrid program (Strength, Endurance & Conditioning) via our dedicated app. This features custom nutrition targets, monthly progress check-ins with your coach, and ongoing community support.", 
                    accentColor: "text-blue-400",
                    ctaLink: "https://coachchriscrc.github.io/fsb-lp",
                    requiresCall: true
                };
            } else {
                return {
                    title: TIER_3_TITLE,
                    description: "You are seeking expert-designed, foundational guidance. Gain instant access to professionally built, self-paced training plans you can execute on your own schedule.",
                    briefOverview: "Gain self-guided access to a library of diverse programs, including strength cycles, conditioning blocks, and WOD packs. Features full tutorials and movement demos—perfect for the independent trainee.", 
                    accentColor: "text-neutral-300",
                    ctaLink: "https://coachchriscrc.github.io/programs-lp",
                    requiresCall: false
                };
            }
        }
        
        function getRecommendation(score) {
            const s = parseInt(score, 10); 
            if (s >= 230) return getProgramDetailsByTitle(TIER_1_TITLE);
            else if (s >= 145) return getProgramDetailsByTitle(TIER_2_TITLE);
            else return getProgramDetailsByTitle(TIER_3_TITLE);
        }
        
        function getAlternativeRecommendation(primaryRecommendationTitle) {
            if (primaryRecommendationTitle.includes(TIER_1_TITLE)) return getProgramDetailsByTitle(TIER_2_TITLE);
            else if (primaryRecommendationTitle.includes(TIER_2_TITLE)) return getProgramDetailsByTitle(TIER_3_TITLE);
            else return getProgramDetailsByTitle(TIER_2_TITLE);
        }
        
        function generatePersonalizedRationale(answers, recommendationTitle) {
            const rawGoal = answers.find(a => a.key === 'primaryGoal')?.answer || 'an ambitious fitness goal';
            const rawBarrier = answers.find(a => a.key === 'barrier')?.answer || 'a specific obstacle';
            
            let goalPhrase = rawGoal;
            if (rawGoal.includes("Shedding fat")) goalPhrase = "your focus on fat loss and physique transformation";
            else if (rawGoal.includes("Getting strong")) goalPhrase = "your objective of building muscle and strength";
            else if (rawGoal.includes("Boosting energy")) goalPhrase = "your desire for improved energy and endurance";
            else if (rawGoal.includes("Feeling generally healthier")) goalPhrase = "your goal of establishing consistent, healthy habits";

            let barrierPhrase = rawBarrier;
            if (rawBarrier.includes("don't have a plan")) barrierPhrase = "the lack of a structured program that fits your needs";
            else if (rawBarrier.includes("struggle with follow-through")) barrierPhrase = "a strong need for external accountability and regular coach feedback";
            else if (rawBarrier.includes("My diet is my biggest weakness")) barrierPhrase = "the challenge of optimizing your nutrition strategy";
            else if (rawBarrier.includes("Staying motivated")) barrierPhrase = "the difficulty of maintaining motivation and managing your training time";

            let keySupportFeature = '';
            if (recommendationTitle.includes(TIER_1_TITLE)) keySupportFeature = 'maximum 1-on-1 personalization and professional programming';
            else if (recommendationTitle.includes(TIER_2_TITLE)) keySupportFeature = 'structured programming paired with monthly individual check-ins';
            else keySupportFeature = 'immediate access to expert-designed training plans that remove the guesswork';

            let rationale = `We recognize <span class="text-green-400 font-bold">${goalPhrase}</span> as your priority. `;
            rationale += `However, it appears your progress is currently hindered by <span class="text-green-400 font-bold">${barrierPhrase}</span>. `;
            rationale += `The <strong>${recommendationTitle}</strong> is designed to overcome this by providing <span class="text-white font-bold">${keySupportFeature}</span> to ensure you achieve consistent, long-term results.`;
            
            return rationale;
        }

        function generateAlternativeDescription(primaryRec, alternativeRec) {
            const primaryTitle = primaryRec.title;
            let description = '';

            if (primaryTitle.includes(TIER_1_TITLE) && alternativeRec.title.includes(TIER_2_TITLE)) {
                description = `The **${TIER_2_TITLE}** offers an ideal balance of structure and support without the full 1-1 investment. It includes high-quality programming and direct coach check-ins—perfect for achieving consistency.`;
            } else if (primaryTitle.includes(TIER_2_TITLE) && alternativeRec.title.includes(TIER_3_TITLE)) {
                description = `If you prefer independent training or are working with a tighter budget, the **${TIER_3_TITLE}** provides expert-built plans. You gain instant access to programs designed to deliver results on your own schedule.`;
            } else if (primaryTitle.includes(TIER_3_TITLE) && alternativeRec.title.includes(TIER_2_TITLE)) {
                description = `If you feel you need more accountability than a self-paced plan provides, the **${TIER_2_TITLE}** adds monthly individual coach check-ins to ensure you stay on track and maximize your progress.`;
            } else {
                description = alternativeRec.description;
            }
            
            return markdownToHtml(description);
        }

        const contentArea = document.getElementById('content-area');
        const progressBarFill = document.getElementById('progress-bar-fill');
        const progressTextLabel = document.getElementById('progress-text-label'); 
        const progressPercent = document.getElementById('progress-percent'); 

        function updateProgress() {
            const totalQuestions = quizData.length;
            const displayStep = currentStep === totalQuestions ? totalQuestions : currentStep + 1;
            const progress = (currentStep / totalQuestions) * 100;
            const percentageDisplay = Math.round(progress);

            progressBarFill.style.width = `${progress}%`;
            progressPercent.textContent = `${percentageDisplay}%`;

            if (currentStep < totalQuestions) {
                progressTextLabel.textContent = `QUESTION ${displayStep} OF ${totalQuestions}`;
            } else {
                 progressBarFill.style.width = `100%`;
                 progressTextLabel.textContent = `QUIZ COMPLETE`; 
            }
        }

        function renderQuestion() {
            if (currentStep >= quizData.length) {
                renderNameInputScreen();
                return;
            }

            const stepData = quizData[currentStep];
            const previousAnswer = userAnswers.find(a => a.key === stepData.key);
            selectedOption = previousAnswer ? stepData.options.find(opt => opt.text === previousAnswer.answer) : null;
            
            contentArea.innerHTML = ''; 

            const nextButtonText = currentStep === quizData.length - 1 ? 'SUBMIT ASSESSMENT' : 'CONTINUE';

            const questionBlock = document.createElement('div');
            questionBlock.className = 'animate-in';
            questionBlock.innerHTML = `
                <h3 class="text-xl sm:text-2xl font-bold text-white leading-snug mb-8">${stepData.question}</h3>
                <div id="options-container" class="space-y-3"></div>
                <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 mt-12">
                    <button id="back-button" class="secondary-button w-full sm:w-1/3 p-4 text-sm font-bold rounded-xl uppercase tracking-widest">
                        BACK
                    </button>
                    <button id="next-button" ${selectedOption ? '' : 'disabled'} class="action-button flex-grow p-4 text-sm font-bold rounded-xl tracking-widest">
                        ${nextButtonText}
                    </button>
                </div>
            `;
            contentArea.appendChild(questionBlock);

            const optionsContainer = document.getElementById('options-container');
            const nextButton = document.getElementById('next-button');
            const backButton = document.getElementById('back-button');

            if (currentStep === 0) backButton.classList.add('hidden');
            else backButton.addEventListener('click', handleBack);

            stepData.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option.text;
                button.className = 'option-button w-full text-left p-5 rounded-xl text-sm sm:text-base';
                if (selectedOption && option.text === selectedOption.text) button.classList.add('selected');

                button.addEventListener('click', () => {
                    document.querySelectorAll('.option-button').forEach(btn => btn.classList.remove('selected'));
                    button.classList.add('selected');
                    selectedOption = option; 
                    nextButton.disabled = false;
                });
                optionsContainer.appendChild(button);
            });
            
            nextButton.addEventListener('click', handleNext);
            updateProgress();
        }
        
        function renderNameInputScreen() {
             currentStep = quizData.length;
             updateProgress();

             contentArea.innerHTML = `
                 <div class="text-center animate-in">
                     <div class="inline-flex items-center justify-center p-4 rounded-full bg-green-500/10 border border-green-500/20 mb-6">
                         <svg class="h-8 w-8 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                         </svg>
                     </div>
                 </div>
                 <h2 class="text-2xl font-black uppercase leading-tight mb-2 text-center italic tracking-tight">FINALIZE YOUR RESULTS</h2>
                 <p class="text-xs text-neutral-400 text-center mb-8 uppercase tracking-widest">Personalize your recommendation</p>
                 
                 <div class="animate-in bg-white/5 border border-white/10 p-6 rounded-2xl relative">
                     <form id="personalization-form" class="space-y-6">
                         <div>
                             <label for="client-name-input" class="block text-[10px] font-bold uppercase mb-2 tracking-widest text-neutral-400">First Name</label>
                             <input type="text" id="client-name-input" name="name" required class="custom-input block w-full p-4 rounded-xl text-lg" placeholder="e.g. ALEX" value="${clientName === 'Warrior' ? '' : clientName}">
                         </div>
                         <div class="flex items-start">
                            <input type="checkbox" id="disclaimer-check" name="disclaimer" required class="mt-1">
                            <label for="disclaimer-check" class="ml-3 text-xs font-medium text-neutral-300 leading-relaxed">
                                I have read and agree to the <a href="#disclaimer" class="font-bold underline text-green-500 hover:text-green-400">fitness disclaimer</a> and understand that results require consistency.
                            </label>
                        </div>
                         <button type="submit" id="display-button" disabled class="action-button w-full py-4 rounded-xl text-sm">REVEAL MY RESULTS</button>
                     </form>
                 </div>
             `;
             
             document.getElementById('personalization-form').addEventListener('submit', handlePersonalize);
             const nameInput = document.getElementById('client-name-input');
             const disclaimerCheck = document.getElementById('disclaimer-check');
             const confirmButton = document.getElementById('display-button');
             
             const updateButtonState = () => {
                 const isNameValid = nameInput.value.trim().length > 0;
                 const isChecked = disclaimerCheck.checked;
                 confirmButton.disabled = !(isNameValid && isChecked);
             };

             nameInput.addEventListener('input', updateButtonState);
             disclaimerCheck.addEventListener('change', updateButtonState);
             updateButtonState(); 
        }

        function renderLoadingScreen() {
             contentArea.innerHTML = `
                 <div class="text-center animate-in min-h-[300px] flex flex-col items-center justify-center">
                     <div class="clean-spinner mb-8"></div> 
                     <p class="text-2xl sm:text-3xl font-black uppercase italic mb-4 text-white animate-pulse tracking-tighter">ANALYZING YOUR PROFILE...</p>
                     <p class="text-sm text-neutral-400 tracking-widest uppercase">Matching you with the perfect program</p>
                 </div>
             `;
             setTimeout(() => {
                 renderFinalProgramSummary();
                 document.getElementById('quiz-app').scrollIntoView({ behavior: 'smooth', block: 'start' });
             }, 2500);
        }

        function renderFinalProgramSummary() {
            progressTextLabel.textContent = `ANALYSIS COMPLETE`;
            const primaryRec = getRecommendation(totalScore);
            const alternativeRec = getAlternativeRecommendation(primaryRec.title);
            const personalizedRationale = generatePersonalizedRationale(userAnswers, primaryRec.title);
            const alternativeDescriptionText = generateAlternativeDescription(primaryRec, alternativeRec); 
            const clientDisplay = clientName.toUpperCase();
            
            let step2Content;
            const primaryTitle = primaryRec.title;

            if (primaryTitle.includes(TIER_1_TITLE)) {
                step2Content = `<li><span class="font-bold text-white">Step 2: Apply & Consult</span><span class="block text-neutral-400 mt-1">${markdownToHtml("Submit a quick application. Then, message Coach Chris via WhatsApp to ensure a perfect fit.")}</span></li>`;
            } else if (primaryTitle.includes(TIER_2_TITLE)) {
                step2Content = `<li><span class="font-bold text-white">Step 2: Apply & Gain Access</span><span class="block text-neutral-400 mt-1">${markdownToHtml("Submit your short application. Gain immediate app access upon sign-up. WhatsApp chat is optional.")}</span></li>`;
            } else {
                step2Content = `<li><span class="font-bold text-white">Step 2: Start Your Program</span><span class="block text-neutral-400 mt-1">${markdownToHtml(`Gain immediate access to the training app and begin your journey.`)}</span></li>`;
            }

            contentArea.innerHTML = `
                <div class="animate-in space-y-8">
                    <div class="text-center">
                        <p class="text-[10px] font-bold uppercase text-green-500 tracking-[0.3em] mb-3">RECOMMENDED PATH FOR ${clientDisplay}</p>
                        <h2 class="text-3xl sm:text-4xl font-black uppercase text-white italic leading-tight tracking-tighter">STOP GUESSING.<br>START TRAINING WITH PURPOSE.</h2>
                    </div>

                    <div class="result-card p-6 rounded-2xl border-l-4 border-l-green-500">
                        <p class="text-xs font-bold text-green-500 uppercase tracking-widest mb-2">Best Fit Strategy</p>
                        <h3 class="text-2xl font-black text-white mb-4 uppercase tracking-tight">${primaryRec.title}</h3>
                        <p class="text-sm text-neutral-300 leading-relaxed mb-6">${primaryRec.briefOverview}</p>
                        <div class="p-4 bg-white/5 rounded-xl border border-white/5">
                            <p class="text-xs font-bold text-white uppercase mb-2 tracking-widest">The Profile Logic:</p>
                            <p class="text-xs text-neutral-400 leading-relaxed italic">${personalizedRationale}</p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 gap-6">
                        <a href="${primaryRec.ctaLink}" target="_blank" class="action-button w-full py-5 rounded-xl text-center no-underline text-sm tracking-widest">GET THE FULL BREAKDOWN: ${primaryRec.title}</a>
                        
                        <div class="bg-white/5 border border-white/10 p-6 rounded-2xl">
                             <div class="flex items-center space-x-2 mb-4">
                                <svg class="w-4 h-4 text-neutral-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <h4 class="text-xs font-bold uppercase tracking-widest text-neutral-300">Alternative Option</h4>
                             </div>
                             <p class="text-lg font-extrabold text-white mb-2">${alternativeRec.title}</p>
                             <p class="text-xs text-neutral-400 mb-4 leading-relaxed">${alternativeDescriptionText}</p>
                             <a href="${alternativeRec.ctaLink}" target="_blank" class="text-xs font-bold text-green-500 uppercase tracking-widest hover:text-green-400 transition-colors inline-flex items-center">VIEW THIS OPTION <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></svg></a>
                        </div>
                    </div>

                    <div class="space-y-6 pt-6 border-t border-white/10">
                        <h4 class="text-sm font-black uppercase text-white tracking-widest">Next Steps to Success</h4>
                        <ol class="space-y-6">
                            <li class="flex items-start">
                                <span class="bg-green-500 text-black text-[10px] font-black w-5 h-5 flex items-center justify-center rounded-full mr-3 mt-0.5">1</span>
                                <div class="flex-grow">
                                    <p class="text-xs font-bold text-white uppercase tracking-widest">Review Curriculum</p>
                                    <p class="text-xs text-neutral-400 mt-1">Review the full details of your recommended program.</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="bg-green-500 text-black text-[10px] font-black w-5 h-5 flex items-center justify-center rounded-full mr-3 mt-0.5">2</span>
                                <div class="flex-grow">
                                    <p class="text-xs font-bold text-white uppercase tracking-widest">Execute Plan</p>
                                    ${step2Content}
                                </div>
                            </li>
                        </ol>
                    </div>

                    <button id="restart-button" class="secondary-button w-full py-4 rounded-xl text-[10px] font-bold uppercase tracking-[0.2em] opacity-50 hover:opacity-100">RESTART ASSESSMENT</button>
                    
                    <div class="pt-4 text-right">
                        <p class="text-xs font-black text-white italic">— Coach Chris</p>
                        <p class="text-[9px] font-bold text-green-500 uppercase tracking-widest">Circular Roots Coaching</p>
                    </div>
                </div>
            `;
            document.getElementById('restart-button').addEventListener('click', restartQuiz);
        }

        function handleNext() {
            if (selectedOption !== null) {
                const currentKey = quizData[currentStep].key;
                const existingIndex = userAnswers.findIndex(a => a.key === currentKey);
                if (existingIndex !== -1) {
                    totalScore -= userAnswers[existingIndex].score;
                    userAnswers.splice(existingIndex, 1);
                } 
                userAnswers.push({ key: currentKey, question: quizData[currentStep].question, answer: selectedOption.text, score: selectedOption.score });
                totalScore += selectedOption.score;
                currentStep++;
                document.getElementById('quiz-app').scrollIntoView({ behavior: 'smooth', block: 'start' });
                renderQuestion();
            }
        }
        
        function handleBack() {
             currentStep = Math.max(0, currentStep - 1);
             document.getElementById('quiz-app').scrollIntoView({ behavior: 'smooth', block: 'start' });
             renderQuestion();
        }
        
        function handlePersonalize(event) {
            event.preventDefault();
            const nameInput = document.getElementById('client-name-input');
            clientName = nameInput.value.trim().split(' ')[0];
            renderLoadingScreen();
        }
        
        function restartQuiz() {
            currentStep = 0;
            totalScore = 0;
            selectedOption = null;
            userAnswers = [];
            clientName = "Warrior";
            document.getElementById('quiz-app').scrollIntoView({ behavior: 'smooth', block: 'start' });
            renderQuestion();
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateProgress();
            renderQuestion();
        });
    </script>
</body>
</html>

